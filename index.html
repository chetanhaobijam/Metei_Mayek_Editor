<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" translate="no">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="google" content="notranslate">
    <title>Meitei Mayek Editor</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Meitei Mayek Editor</h1>
    <p class="meitei">ꯃꯩꯇꯩ ꯃꯌꯦꯛ ꯏꯗꯤꯇꯔ</p>

    <section class="eyek">
        <form name="Eyek">
            <textarea class="meitei" id="qube" onkeyup="transcrire()" name="eeyekeditor" rows="8"></textarea>
        </form>
    </section>

    <section class="keyboard meitei unselectable">
        <div class="new-keyboard">
            <div class="first-row row">
                <div id="one" class="lowerCase">
                    
                </div>
                <div id="two" class="lowerCase"></div>
                <div id="three" class="lowerCase"></div>
                <div id="four" class="lowerCase"></div>
                <div id="five" class="lowerCase"></div>
                <div id="six" class="lowerCase"></div>
                <div id="seven" class="lowerCase"></div>
                <div id="eight" class="lowerCase"></div>
                <div id="nine" class="lowerCase"></div>
                <div id="zero" class="lowerCase"></div>
                <div id="hyphen" class="lowerCase"></div>
                <div id="exclam" class="upperCase hide"></div>
                <div id="at-the-rate" class="upperCase hide"></div>
                <div id="hash" class="upperCase hide"></div>
                <div id="dollar" class="upperCase hide"></div>
                <div id="percentage" class="upperCase hide"></div>
                <div id="up-sign" class="upperCase hide"></div>
                <div id="and" class="upperCase hide"></div>
                <div id="star" class="upperCase hide"></div>
                <div id="lbracket" class="upperCase hide"></div>
                <div id="rbracket" class="upperCase hide"></div>
                <div id="underscore" class="upperCase hide"></div>
            </div>
            <div class="second-row row">
                <div id="q" class="lowerCase"></div>
                <div id="w" class="lowerCase"></div>
                <div id="e" class="lowerCase"></div>
                <div id="r" class="lowerCase"></div>
                <div id="t" class="lowerCase"></div>
                <div id="y" class="lowerCase"></div>
                <div id="u" class="lowerCase"></div>
                <div id="i" class="lowerCase""></div>
                <div id="o" class="lowerCase"></div>
                <div id="p" class="lowerCase"></div>
                <div id="bslash" class="lowerCase"></div>
                <div id="Q" class="upperCase hide"></div>
                <div id="W" class="upperCase hide"></div>
                <div id="E" class="upperCase hide"></div>
                <div id="R" class="upperCase hide"></div>
                <div id="T" class="upperCase hide"></div>
                <div id="Y" class="upperCase hide"></div>
                <div id="U" class="upperCase hide"></div>
                <div id="I" class="upperCase hide"></div>
                <div id="O" class="upperCase hide"></div>
                <div id="P" class="upperCase hide"></div>
                <div id="pipe" class="upperCase hide"></div>
            </div>
            <div class="third-row row">
                <div id="a" class="lowerCase"></div>
                <div id="s" class="lowerCase"></div>
                <div id="d" class="lowerCase"></div>
                <div id="f" class="lowerCase"></div>
                <div id="g" class="lowerCase"></div>
                <div id="h" class="lowerCase"></div>
                <div id="j" class="lowerCase"></div>
                <div id="k" class="lowerCase"></div>
                <div id="l" class="lowerCase"></div>
                <div id="A" class="upperCase hide"></div>
                <div id="S" class="upperCase hide"></div>
                <div id="D" class="upperCase hide"></div>
                <div id="F" class="upperCase hide"></div>
                <div id="G" class="upperCase hide"></div>
                <div id="H" class="upperCase hide"></div>
                <div id="J" class="upperCase hide"></div>
                <div id="K" class="upperCase hide"></div>
                <div id="L" class="upperCase hide"></div>
            </div>
            <div class="fourth-row row">
                <div id="z" class="lowerCase"></div>
                <div id="x" class="lowerCase"></div>
                <div id="c" class="lowerCase"></div>
                <div id="v" class="lowerCase"></div>
                <div id="b" class="lowerCase"></div>
                <div id="n" class="lowerCase"></div>
                <div id="m" class="lowerCase"></div>
                <div id="comma" class="lowerCase"></div>
                <div id="full-stop" class="lowerCase"></div>
                <div id="slash" class="lowerCase"></div>
                <div id="Z" class="upperCase hide"></div>
                <div id="X" class="upperCase hide"></div>
                <div id="C" class="upperCase hide"></div>
                <div id="V" class="upperCase hide"></div>
                <div id="B" class="upperCase hide"></div>
                <div id="N" class="upperCase hide"></div>
                <div id="M" class="upperCase hide"></div>
                <div id="langle" class="upperCase hide"></div>
                <div id="rangle" class="upperCase hide"></div>
                <div id="question" class="upperCase hide"></div>
            </div>
            <div class="fifth-row row">
                <div id="shift">
                    <img src="./images/shift.png" alt="Shift key">
                </div>
                <div id="backspace">
                    <img src="./images/backspace.png" alt="Backspace key">
                </div>
                <div id="spacebar">
                    <img src="./images/space.png" alt="Spacebar key">
                </div>
                <div id="enter">
                    <img src="./images/enter.png" alt="Enter key">
                </div>
            </div>
        </div>
    </section>

    <section class="tip">
        <p>Press 'F2' to hide the keyboard and 'F4' to show the keyboard</p>
    </section>

    <script type="text/javascript">

        function transcrire() {
            qten = document.Eyek.eeyekeditor.value;

            qten = qten.replace(/b/g, "ꯕ");
            qten = qten.replace(/B/g, "ꯕ");
            qten = qten.replace(/c/g, "ꯆ");
            qten = qten.replace(/C/g, "ꯆ");
            qten = qten.replace(/k/g, "ꯀ");
            qten = qten.replace(/g/g, "ꯒ");
            qten = qten.replace(/b/g, "ꯕ");
            qten = qten.replace(/n/g, "ꯅ");
            qten = qten.replace(/m/g, "ꯃ");
            qten = qten.replace(/s/g, "ꯁ");
            qten = qten.replace(/d/g, "ꯗ");
            qten = qten.replace(/D/g, "ꯘ");

            qten = qten.replace(/f/g, "ꯐ");
            qten = qten.replace(/h/g, "ꯍ");
            qten = qten.replace(/H/g, "ꯍ");
            qten = qten.replace(/j/g, "ꯖ");
            qten = qten.replace(/J/g, "ꯘ");
            qten = qten.replace(/l/g, "ꯂ");
            qten = qten.replace(/w/g, "ꯋ");
            qten = qten.replace(/r/g, "ꯔ");
            qten = qten.replace(/t/g, "ꯇ");
            qten = qten.replace(/y/g, "ꯌ");
            qten = qten.replace(/p/g, "ꯄ");
            qten = qten.replace(/v/g, "ꯚ");
            qten = qten.replace(/V/g, "ꯚ");
            qten = qten.replace(/x/g, "ꯊ");

            //final consonent

            qten = qten.replace(/K/g, "ꯛ");
            qten = qten.replace(/L/g, "ꯜ");
            qten = qten.replace(/z/g, "ꯉ");
            qten = qten.replace(/Z/g, "ꯡ");
            qten = qten.replace(/N/g, "ꯟ");
            qten = qten.replace(/M/g, "ꯝ");
            qten = qten.replace(/Q/g, "ꯈ");



            qten = qten.replace(/U/g, "ꯎ");
            qten = qten.replace(/I/g, "ꯏ");
            qten = qten.replace(/A/g, "ꯑ");
            qten = qten.replace(/T/g, "ꯠ");
            qten = qten.replace(/P/g, "ꯞ");


            //Dependent vowel
            qten = qten.replace(/a/g, "ꯥ");
            qten = qten.replace(/e/g, "ꯦ");
            qten = qten.replace(/E/g, "ꯩ");
            qten = qten.replace(/u/g, "ꯨ");
            qten = qten.replace(/i/g, "ꯤ");
            qten = qten.replace(/o/g, "ꯣ");
            qten = qten.replace(/O/g, "ꯩ");
            qten = qten.replace(/q/g, "ꯪ");



            //// ponctuation Eeyek

            qten = qten.replace(/\_/g, "꯭");
            qten = qten.replace(/\|/g, "꯫");
            qten = qten.replace(/\।।/g, "꯫");

            //digit
            qten = qten.replace(/0/g, "꯰");
            qten = qten.replace(/1/g, "꯱");
            qten = qten.replace(/2/g, "꯲");
            qten = qten.replace(/3/g, "꯳");
            qten = qten.replace(/4/g, "꯴");
            qten = qten.replace(/5/g, "꯵");
            qten = qten.replace(/6/g, "꯶");
            qten = qten.replace(/7/g, "꯷");
            qten = qten.replace(/8/g, "꯸");
            qten = qten.replace(/9/g, "꯹");


            startPos = document.Eyek.eeyekeditor.selectionStart;
            endPos = document.Eyek.eeyekeditor.selectionEnd;

            beforeLen = document.Eyek.eeyekeditor.value.length;
            afterLen = qten.length;
            adjustment = afterLen - beforeLen;

            document.Eyek.eeyekeditor.value = qten;

            document.Eyek.eeyekeditor.selectionStart = startPos + adjustment;
            document.Eyek.eeyekeditor.selectionEnd = endPos + adjustment;

            var obj = document.Eyek.eeyekeditor;
            obj.focus();
            obj.scrollTop = obj.scrollHeight;
        }

        function alpha(item) {
            var input = document.Eyek.eeyekeditor;
            if (document.selection) {
                input.focus();
                range = document.selection.createRange();
                range.text = item;
                range.select();
            }
            else if (input.selectionStart || input.selectionStart === '0') {
                var startPos = input.selectionStart;
                var endPos = input.selectionEnd;
                var cursorPos = startPos;
                var scrollTop = input.scrollTop;
                var baselength = 0;
                input.value = input.value.substring(0, startPos)
                    + item
                    + input.value.substring(endPos, input.value.length);
                cursorPos += item.length;
                input.focus();
                input.selectionStart = cursorPos;
                input.selectionEnd = cursorPos;
                input.scrollTop = scrollTop;
            }
            else {
                input.value += item;
                input.focus();
            }
        }
    </script>
    <script src="./main.js"></script>
</body>

</html>